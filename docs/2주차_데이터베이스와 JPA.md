## 데이터베이스와 JPA

### 데이터베이스는 왜 필요할까요?
- 데이터를 체계적으로 저장하고 빠르게 검색, 수정하기 위해
- 여러 사용자가 동시에 접근할 경우 일관성과 안정성을 보장하기 위해
- 데이터 중복을 줄이고, 보안과 백업/복구 기능을 통해 신뢰성 있는 데이터 관리를 하기 위해
  
### 데이터베이스에는 무슨 종류가 있나요?
- 관계형 데이터베이스
  - 행과 열을 가지는 표 형식 데이터를 저장하는 형태
  - 데이터 무결성 보장, 높은 신뢰성
  - 명확한 스키마 정의
  - 정규화에 따른 갱신 비용 최소화
  - 데이터의 분류/정렬/탐색 속도가 빠르며 데이터 중복을 방지
- 계층형 데이터베이스
- 네트워크형 데이터베이스
- 객체지향 데이터베이스
- NoSQL
  - 키-값의 형태로 저장. 스키마와 관계가 없음
  - 수직 및 수평 확장이 가능
- 시계열 데이터베이스
  
### 관계형 데이터베이스를 어떻게 표현할 수 있을까요?
행과 열을 가지는 표 형식으로 표현. 각각의 표(테이블)은 키(key)를 통해서 연결될 수 있음.

#### ERD란 무엇일까요?
Entity Relationship Diagram. 데이터 구조를 시각적으로 표현한 다이어그램. 엔티티와 엔티티간의 관계를 나타내며, 데이터베이스를 설계할 시 사용.

##### ERD의 요소에는 무엇이 있나요?
- Entity(엔티티): 관리해야 할 대상
- Attribute(속성): 엔티티가 가진 정보
- Relationship(관계): 엔티티 간의 연결 관계(1:N, N:M 등)
- Key(키): 엔티티를 식별하는 요소(Primary Key, Foreign Key)

  ---

### ORM은 무엇이고 왜 필요할까요?
- ORM: 자바의 객체와 데이터베이스를 연결하는 프로그래밍 기법. 데이터베이스의 값을 마치 객체처럼 사용하는 것.
- ORM의 필요성(장점)
  - SQL을 직접 작성하지 않고 사용하는 언어로 데이터베이스에 접근할 수 있음.
  - 객체지향적으로 코드를 작성할 수 있기 때문에 비즈니스 로직에만 집중할 수 있음.
  - 매핑하는 정보가 명확하기 때문에 ERD에 대한 의존도를 낮출 수 있고 유지보수할 때 유리함.
  - ORM 프레임워크는 다양한 데이터베이스를 지원하기 때문에 데이터베이스 시스템을 변경하더라도 코드 수정이 최소화 → 데이터베이스 종속성 감소

### 스프링에서 ORM을 어떻게 활용하나요?
JPA (Java Persistence API) 표준을 구현한 Hibernate와 그 위에 구축된 Spring Data JPA를 통해 ORM 활용
*jPA: 자바 객체와 데이터베이스를 연결하는 다리 역할. ORM의 여러 종류 중 자바에서는 JPA를 표준으로 사용*
*Hibernate: ORM 프레임워크*

#### Spring Data JPA란 무엇일까요?
- Spring data: 클라이언트의 요청에 따라 데이터를 가져오는 상황에서 스프링 데이터가 이를 Repository 영역이 담당하도록 강제하여 데이터를 가공하여 응답하는 Service 영역과 분리되도록 함.
- Spring Data JPA: JPA를 더 편리하게 사용하는 메서드를 제공함.
  - Repository 인터페이스(JPA를 추상화 시킨 인터페이스를 정의하면 자동으로 구현체를 생성, 이를 통해 **CRUD 작업을 위한 코드 중복 감소**)
  - 쿼리 메소드
  - 페이징과 정렬 기능

 #### Repository Layer란 무엇일까요?
 데이터 저장소와의 상호작용을 담당하는 계층으로, 주로 엔티티의 CRUD와 같은 데이터 영속성 작업을 추상화함.

#### JpaRepository Interface에는 어떤 기능들이 포함되어 있나요?
데이터베이스의 추가, 조회, 수정, 삭제의 findAll(), findById(), save() 등의 메서드 등등

---

### Entity는 무엇인가요?
객체 지향 프로그래밍에서 데이터베이스 테이블과 매핑되는 객체.

### 영속성은 무엇일까요?
데이터를 생성한 프로그램이 종료되어도 사라지지 않고 영구적으로 보존되는 특성.
데이터가 메모리(RAM)에만 존재하지 않고, 하드 디스크나 데이터베이스와 같은 영구 저장소에 저장되어 애플리케이션의 생명주기 이상으로 지속되는 것.

#### Entity의 생명주기는 어떻게 되나요?
비영속 → 영속 → 준영속 → 삭제
- 비영속: 엔티티 객체를 생성했지만, 아직 영속성 컨텐스트와 관련이 없는 상태. 데이터베이스에 저장되지 않음.
- 영속: 엔티티가 영속성 컨텍스트에 저장된 상태
- 준영속: 영속성 컨텍스트에 저장되었다가 분리된 상태
- 삭제: 영속성 컨텍스트에 삭제되도록 요청된 상태

#### Entity에 관련된 어노테이션은 무엇이 있나요?
1. 클래스 레벨 어노테이션
   <br>@Entity: 해당 클래스가 JPA의 엔티티임을 나타냄
   <br>@Table: 엔티티 클래스가 매핑될 데이터베이스 테이블의 이름을 지정
   <br>@Access: JPA가 엔티티 데이터에 접근하는 방식을 지정
2. 필드/컬럼 레벨 어노테이션
  <br>@Id: 엔티티의 기본 키(Primary Key)를 지정
  <br>@Column: 필드가 매핑될 데이터베이스 컬럼의 속성을 정의
  <br>@GeneratedValue: 기본 키 값을 자동으로 생성

---

### 연관관계 매핑은 왜 이용할까요?
연관관계 매핑: 객체와 관계형 데이터베이스 테이블을 서로 매핑하는 것. 객체 지향적인 방식으로 관계형 데이터를 다루기 위해 연관관계 매핑을 이용.

### 연관관계 매핑에는 무엇이 있을까요?
1. @ManyToOne (다대일): 여러 개의 자식 엔티티가 하나의 부모 엔티티를 참조하는 경우
2. @OneToMany (일대다): 하나의 부모 엔티티가 여러 개의 자식 엔티티를 가질 수 있는 경우
3. @OneToOne (일대일): 두 엔티티가 서로 일대일 관계를 가지는 경우
4. @ManyToMany (다대다): 두 엔티티가 서로 다대다 관계를 가지는 경우

### 영속성 전이는 무엇이고 어떻게 활용할 수 있을까요?
영속성 전이: 특정 엔티티에 대한 영속성 작업이 연관된 다른 엔티티에도 함께 전파되도록 하는 기능. 부모 엔티티를 관리하면서 자식 엔티티까지 함께 관리해야 할 때 유용하게 사용.
  




